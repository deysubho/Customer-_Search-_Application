{"ast":null,"code":"var _jsxFileName = \"D:\\\\Cars247project\\\\src\\\\components\\\\CustomerSearch.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { ConfigurableForm } from './ConfigurableForm';\nimport { CustomerResults } from './CustomerResults';\nimport { searchConfig, displayConfig } from 'config/searchConfig';\nimport { Card, CardContent, CardHeader, CardTitle } from 'components/ui/card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CustomerSearch = () => {\n  _s();\n  const [customers, setCustomers] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [hasSearched, setHasSearched] = useState(false);\n  const searchCustomers = async filters => {\n    setLoading(true);\n    setError('');\n    setHasSearched(true);\n    try {\n      const queryParams = new URLSearchParams();\n      if (filters.firstName) {\n        queryParams.append('firstName_like', filters.firstName);\n      }\n      if (filters.lastName) {\n        queryParams.append('lastName_like', filters.lastName);\n      }\n      if (filters.dateOfBirth) {\n        queryParams.append('dateOfBirth', filters.dateOfBirth);\n      }\n      const response = await fetch(`http://localhost:3001/customers?${queryParams}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch customers');\n      }\n      const data = await response.json();\n      setCustomers(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n      setCustomers([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8 space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-2\",\n        children: \"Customer Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Search for customers using the form below\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: /*#__PURE__*/_jsxDEV(CardTitle, {\n          children: \"Search Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(ConfigurableForm, {\n          config: searchConfig,\n          onSubmit: searchCustomers,\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), hasSearched && /*#__PURE__*/_jsxDEV(CustomerResults, {\n      customers: customers,\n      config: displayConfig,\n      loading: loading,\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomerSearch, \"4k6Kw0Qc1ZJZ6YBtpo14bVwBcfI=\");\n_c = CustomerSearch;\nvar _c;\n$RefreshReg$(_c, \"CustomerSearch\");","map":{"version":3,"names":["useState","ConfigurableForm","CustomerResults","searchConfig","displayConfig","Card","CardContent","CardHeader","CardTitle","jsxDEV","_jsxDEV","CustomerSearch","_s","customers","setCustomers","loading","setLoading","error","setError","hasSearched","setHasSearched","searchCustomers","filters","queryParams","URLSearchParams","firstName","append","lastName","dateOfBirth","response","fetch","ok","Error","data","json","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","config","onSubmit","_c","$RefreshReg$"],"sources":["D:/Cars247project/src/components/CustomerSearch.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Customer, SearchFilters } from 'types';\nimport { ConfigurableForm } from './ConfigurableForm';\nimport { CustomerResults } from './CustomerResults';\nimport { searchConfig, displayConfig } from 'config/searchConfig';\nimport { Card, CardContent, CardHeader, CardTitle } from 'components/ui/card';\n\nexport const CustomerSearch: React.FC = () => {\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string>('');\n  const [hasSearched, setHasSearched] = useState(false);\n\n  const searchCustomers = async (filters: SearchFilters) => {\n    setLoading(true);\n    setError('');\n    setHasSearched(true);\n\n    try {\n      const queryParams = new URLSearchParams();\n      \n      if (filters.firstName) {\n        queryParams.append('firstName_like', filters.firstName);\n      }\n      if (filters.lastName) {\n        queryParams.append('lastName_like', filters.lastName);\n      }\n      if (filters.dateOfBirth) {\n        queryParams.append('dateOfBirth', filters.dateOfBirth);\n      }\n\n      const response = await fetch(`http://localhost:3001/customers?${queryParams}`);\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch customers');\n      }\n\n      const data = await response.json();\n      setCustomers(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n      setCustomers([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 space-y-8\">\n      <div className=\"text-center\">\n        <h1 className=\"text-3xl font-bold mb-2\">Customer Search</h1>\n        <p className=\"text-gray-600\">Search for customers using the form below</p>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Search Filters</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ConfigurableForm\n            config={searchConfig}\n            onSubmit={searchCustomers}\n            loading={loading}\n          />\n        </CardContent>\n      </Card>\n\n      {hasSearched && (\n        <CustomerResults\n          customers={customers}\n          config={displayConfig}\n          loading={loading}\n          error={error}\n        />\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}